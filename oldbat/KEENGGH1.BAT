@ECHO OFF

:START
SET CHOICES=Q
CLS
@ECHO  [00;34;40m°°°°±±±²²²²[01;37;44mÉÍÍ»                                   Ë  Ë             [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;37;44mº                                      º É¼             [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;37;44mº    ÉÍ» ÉË» ÉË» ÉÍ» Ë» Ë ËÍ» ËÍ» ËÍ»  ÌÍ¹  ËÍ» ËÍ» Ë» Ë[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;37;44mº    º º º º º º ÌÍ¹ ºÈ»º º º ÌÍ  ÌÍ¹  º È» ÌÍ  ÌÍ  ºÈ»º[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;37;44mÈÍÍ¼ ÈÍ¼ Ê Ê Ê Ê Ê Ê Ê È¼ ÊÍ¼ ÊÍ¼ Ê È  Ê  Ê ÊÍ¼ ÊÍ¼ Ê È¼[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;33;44mÚÄ¿ ÚÄ¿ ÚÄ¿ ÂÄ¿ ÂÄ¿ Â Â ÂÄ¿     ÚÄ¿ ÚÄ¿ Â   ÚÄ¿ Ú¿Ú¿ Â Â[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;33;44m³ ¿ ³ ³ ³ ³ ³ ³ ÃÄ´ ÀÂÙ Ã´      ³ ¿ ÃÄ´ ³   ÃÄ´  Ã´  ÀÂÙ[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;33;44mÀÄÙ ÀÄÙ ÀÄÙ ÁÄÙ ÁÄÙ  Á  ÁÄÙ Ù   ÀÄÙ Á Á ÀÄÙ Á Á ÀÙÀÙ  Á [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;36;44m            Copyright 1991 Id Software Inc.             [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[00;36;44m             Published by Apogee Software               [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[00;30;44m                                                        [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»[00;30;44m[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mº[01;37;45m Select an Episode                                    [01;35;45mº[00;30;44m[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mº[01;37;45m                                                      [01;35;45mº[00;30;44m[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mº[01;35;45m     1) Secret of the Oracle               Episode IV [01;35;45mº[00;30;44m[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mº[01;35;45m     2) The Armageddon Machine             Episode  V [01;35;45mº[00;30;44m[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼[00;30;44m[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[00;30;44m                                                        [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[00;30;44m                                                        [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[00;30;44m                                                        [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[00;30;44m                                                        [00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mº[01;37;45m     Q) Quit                                          [01;35;45mº[00;34;40m²²²²±±±°°°°
@ECHO  [00;34;40m°°°°±±±²²²²[01;35;45mÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼[00;34;40m²²²²±±±°°°°[00;37;40m
@ECHO [00;34;40mÿ°°°°±±±²²²²[00;30;44m                                                        [00;34;40m²²²²±±±°°°°[00;37;40m[79D[1A[s
GOTO COSMETICS

:COSMETICS
IF EXIST GG-HINT.EXE GOTO COS92
IF EXIST GGHINT.EXE GOTO COS92
IF EXIST DEALERS.EXE GOTO COS92
IF EXIST SWCBBS.EXE GOTO COS92
IF EXIST KEEN5.EXE GOTO COSGT
IF EXIST KEEN4.EXE GOTO COSGT
IF EXIST KEEN.EXE GOTO COSFGDM
IF %CHOICES% == EGA GOTO EP5ECHECK
IF %CHOICES% == CGA GOTO EP5CCHECK
GOTO HINTCHECK

:COS92
@ECHO [09;38H[01;36;44m2[00;37;40m[u
GOTO HINTCHECK

:COSFGDM
@ECHO [10;24H[01;33;44m      SPECIAL DEMO VERSION      [00;37;40m[u
GOTO HINTCHECK

:COSGT
@ECHO [09;38H[01;36;44m2[00;37;40m[u
@ECHO [10;25H[00;36;44mPublished by Goodtimes Software[00;37;40m[u
GOTO HINTCHECK

:HINTCHECK
IF EXIST GG-HINT.EXE GOTO HINTENABLE
IF EXIST GGHINT.EXE GOTO HINTENABLE
SET CHOICES=%CHOICES%ÿ
GOTO EP5CHECK

:EP5CHECK
IF EXIST KEEN5.EXE GOTO EP5ENABLE
IF EXIST KEEN5E.EXE GOTO EP5ENABLE
IF EXIST KEEN5C.EXE GOTO EP5ENABLE
SET CHOICES=%CHOICES%ÿ
GOTO EP4CHECK

:EP4CHECK
IF EXIST KEEN4.EXE GOTO EP4ENABLE
IF EXIST KEEN4E.EXE GOTO EP4ENABLE
IF EXIST KEEN4C.EXE GOTO EP4ENABLE
IF EXIST KEEN.EXE GOTO EP4ENABLE
SET CHOICES=%CHOICES%ÿ
GOTO GAMECHOICES

:HINTENABLE
SET CHOICES=%CHOICES%3
@ECHO [17;13H[01;35;45mº                                                      º[u
@ECHO [18;13H[01;35;45mº[01;37;45m     3) Hint Sheet                                    [01;35;45mº[u
@ECHO [19;13H[01;35;45mÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼[u
GOTO EP5CHECK

:EP5ENABLE
SET CHOICES=%CHOICES%2
@ECHO [16;19H[01;37;45m2) The Armageddon Machine             Episode  V[00;37;40m[u
GOTO EP4CHECK

:EP4ENABLE
SET CHOICES=%CHOICES%1
@ECHO [15;19H[01;37;45m1) Secret of the Oracle               Episode IV[00;37;40m[u
GOTO GAMECHOICES

:GAMECHOICES
@CHOICE /N /C%CHOICES% >> NUL
IF ERRORLEVEL 4 GOTO EPISODE4
IF ERRORLEVEL 3 GOTO EPISODE5
IF ERRORLEVEL 2 GOTO HINTSHEET
IF ERRORLEVEL 1 GOTO EXIT

:EPISODE4
SET LAUNCHGAME=KEEN4
GOTO VIDEOMODE

:EPISODE5
SET LAUNCHGAME=KEEN5
GOTO VIDEOMODE

:VIDEOMODE
SET CHOICES=Q
GOTO EGACHECK

:EGACHECK
IF %LAUNCHGAME% == KEEN4 GOTO EGA4CHECK
GOTO EGA5CHECK

:CGACHECK
IF %LAUNCHGAME% == KEEN4 GOTO CGA4CHECK
GOTO CGA5CHECK

:EGA4CHECK
IF EXIST KEEN4E.EXE GOTO EGAENABLE
IF EXIST KEEN4.EXE GOTO EGAENABLE
IF EXIST KEEN.EXE GOTO EGAENABLE
SET CHOICES=%CHOICES%ÿ
GOTO CGACHECK

:EGA5CHECK
IF EXIST KEEN5E.EXE GOTO EGAENABLE
IF EXIST KEEN5.EXE GOTO EGAENABLE
SET CHOICES=%CHOICES%ÿ
GOTO CGACHECK

:CGA4CHECK
IF EXIST KEEN4C.EXE GOTO CGAENABLE
SET CHOICES=%CHOICES%ÿ
GOTO CHECKSKIP

:CGA5CHECK
IF EXIST KEEN5C.EXE GOTO CGAENABLE
SET CHOICES=%CHOICES%ÿ
GOTO CHECKSKIP

:EGAENABLE
SET CHOICES=%CHOICES%2
GOTO CGACHECK

:CGAENABLE
SET CHOICES=%CHOICES%1
GOTO CHECKSKIP

:CHECKSKIP
IF %CHOICES% == Qÿ1 GOTO CHECKCGASKIP
IF %CHOICES% == Q2ÿ GOTO CHECKEGASKIP
GOTO MODESELECTION

:CHECKCGASKIP
IF EXIST KEEN.EXE GOTO MODESELECTION
IF EXIST KEEN4.EXE GOTO MODESELECTION
IF EXIST KEEN4E.EXE GOTO MODESELECTION
IF EXIST KEEN5.EXE GOTO MODESELECTION
IF EXIST KEEN5E GOTO MODESELECTION
GOTO CGASKIP

:CHECKEGASKIP
IF EXIST KEEN4C.EXE GOTO MODESELECTION
IF EXIST KEEN5C.EXE GOTO MODESELECTION
GOTO EGASKIP

:MODESELECTION
@ECHO [12;13H[01;35;45mÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»[u
@ECHO [13;13H[01;35;45mº[01;37;45m Select a Video Mode                                  [01;35;45mº[u
@ECHO [14;13H[01;35;45mº[01;37;45m                                                      [01;35;45mº[u
GOTO DRAWCGAOPTION

:DRAWCGAOPTION
IF %CHOICES% == Qÿ1 GOTO CGAENABLED
IF %CHOICES% == Q21 GOTO CGAENABLED
GOTO CGADISABLED

:CGADISABLED
@ECHO [15;13H[01;35;45mº[01;35;45m     1) CGA                                  4 Colors [01;35;45mº[u
GOTO DRAWEGAOPTION

:CGAENABLED
@ECHO [15;13H[01;35;45mº[01;35;45m     [01;37;45m1) CGA                                  4 Colors [01;35;45mº[u
GOTO DRAWEGAOPTION

:DRAWEGAOPTION
IF %CHOICES% == Q2ÿ GOTO EGAENABLED
IF %CHOICES% == Q21 GOTO EGAENABLED
GOTO EGADISABLED

:EGADISABLED
@ECHO [16;13H[01;35;45mº[01;35;45m     2) EGA                                 16 Colors [01;35;45mº[u
GOTO DRAWVIDEOBOTTOM

:EGAENABLED
@ECHO [16;13H[01;35;45mº[01;35;45m     [01;37;45m2) EGA                                 16 Colors [01;35;45mº[u
GOTO DRAWVIDEOBOTTOM

:DRAWVIDEOBOTTOM
@ECHO [17;13H[01;35;45mÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼[00;37;40m[u
@ECHO [18;13H[00;30;44m                                                        [u
@ECHO [19;13H[00;30;44m                                                        [00;37;40m[u
IF NOT EXIST EGASAVE MKDIR EGASAVE
IF NOT EXIST CGASAVE MKDIR CGASAVE
@CHOICE /N /C%CHOICES% >> NUL
IF ERRORLEVEL 4 GOTO CGACONF
IF ERRORLEVEL 3 GOTO EGACONF
IF ERRORLEVEL 2 GOTO START
IF ERRORLEVEL 1 GOTO EXIT

:CGASKIP
SET LAUNCHMODE=CGA
GOTO GAMESTART

:EGASKIP
SET LAUNCHMODE=EGA
GOTO GAMESTART

:CGACONF
SET LAUNCHMODE=CGA
IF EXIST CGACONF.CKG GOTO GAMESTART
IF EXIST EGACONF.CKG GOTO CHGCGA
@ECHO ÿ>>CGACONF.CKG
GOTO GAMESTART

:EGACONF
SET LAUNCHMODE=EGA
IF EXIST EGACONF.CKG GOTO GAMESTART
IF EXIST CGACONF.CKG GOTO CHGEGA
@ECHO ÿ>>EGACONF.CKG
GOTO GAMESTART

:CHGCGA
DEL EGASAVE\SAVEGAM?.CK? >> NUL
IF EXIST SAVEGAM0.CK4 COPY SAVEGAM0.CK4 EGASAVE >> NUL
IF EXIST SAVEGAM1.CK4 COPY SAVEGAM1.CK4 EGASAVE >> NUL
IF EXIST SAVEGAM2.CK4 COPY SAVEGAM2.CK4 EGASAVE >> NUL
IF EXIST SAVEGAM3.CK4 COPY SAVEGAM3.CK4 EGASAVE >> NUL
IF EXIST SAVEGAM4.CK4 COPY SAVEGAM4.CK4 EGASAVE >> NUL
IF EXIST SAVEGAM5.CK4 COPY SAVEGAM5.CK4 EGASAVE >> NUL
IF EXIST CONFIG.CK4 COPY CONFIG.CK4 EGASAVE >> NUL
IF EXIST SAVEGAM0.CK5 COPY SAVEGAM0.CK5 EGASAVE >> NUL
IF EXIST SAVEGAM1.CK5 COPY SAVEGAM1.CK5 EGASAVE >> NUL
IF EXIST SAVEGAM2.CK5 COPY SAVEGAM2.CK5 EGASAVE >> NUL
IF EXIST SAVEGAM3.CK5 COPY SAVEGAM3.CK5 EGASAVE >> NUL
IF EXIST SAVEGAM4.CK5 COPY SAVEGAM4.CK5 EGASAVE >> NUL
IF EXIST SAVEGAM5.CK5 COPY SAVEGAM5.CK5 EGASAVE >> NUL
IF EXIST CONFIG.CK5 COPY CONFIG.CK5 EGASAVE >> NUL
DEL SAVEGAM?.CK? >> NUL
DEL CONFIG.CK? >> NUL
IF EXIST CGASAVE\SAVEGAM0.CK4 COPY CGASAVE\SAVEGAM0.CK4 . >> NUL
IF EXIST CGASAVE\SAVEGAM1.CK4 COPY CGASAVE\SAVEGAM1.CK4 . >> NUL
IF EXIST CGASAVE\SAVEGAM2.CK4 COPY CGASAVE\SAVEGAM2.CK4 . >> NUL
IF EXIST CGASAVE\SAVEGAM3.CK4 COPY CGASAVE\SAVEGAM3.CK4 . >> NUL
IF EXIST CGASAVE\SAVEGAM4.CK4 COPY CGASAVE\SAVEGAM4.CK4 . >> NUL
IF EXIST CGASAVE\SAVEGAM5.CK4 COPY CGASAVE\SAVEGAM5.CK4 . >> NUL
IF EXIST CGASAVE\SAVEGAM0.CK5 COPY CGASAVE\SAVEGAM0.CK5 . >> NUL
IF EXIST CGASAVE\SAVEGAM1.CK5 COPY CGASAVE\SAVEGAM1.CK5 . >> NUL
IF EXIST CGASAVE\SAVEGAM2.CK5 COPY CGASAVE\SAVEGAM2.CK5 . >> NUL
IF EXIST CGASAVE\SAVEGAM3.CK5 COPY CGASAVE\SAVEGAM3.CK5 . >> NUL
IF EXIST CGASAVE\SAVEGAM4.CK5 COPY CGASAVE\SAVEGAM4.CK5 . >> NUL
IF EXIST CGASAVE\SAVEGAM5.CK5 COPY CGASAVE\SAVEGAM5.CK5 . >> NUL
DEL EGACONF.CKG
@ECHO ÿ>>CGACONF.CKG
GOTO GAMESTART

:CHGEGA
DEL CGASAVE\SAVEGAM?.CK? >> NUL
IF EXIST SAVEGAM0.CK4 COPY SAVEGAM0.CK4 CGASAVE >> NUL
IF EXIST SAVEGAM1.CK4 COPY SAVEGAM1.CK4 CGASAVE >> NUL
IF EXIST SAVEGAM2.CK4 COPY SAVEGAM2.CK4 CGASAVE >> NUL
IF EXIST SAVEGAM3.CK4 COPY SAVEGAM3.CK4 CGASAVE >> NUL
IF EXIST SAVEGAM4.CK4 COPY SAVEGAM4.CK4 CGASAVE >> NUL
IF EXIST SAVEGAM5.CK4 COPY SAVEGAM5.CK4 CGASAVE >> NUL
IF EXIST CONFIG.CK4 COPY CONFIG.CK4 CGASAVE >> NUL
IF EXIST SAVEGAM0.CK5 COPY SAVEGAM0.CK5 CGASAVE >> NUL
IF EXIST SAVEGAM1.CK5 COPY SAVEGAM1.CK5 CGASAVE >> NUL
IF EXIST SAVEGAM2.CK5 COPY SAVEGAM2.CK5 CGASAVE >> NUL
IF EXIST SAVEGAM3.CK5 COPY SAVEGAM3.CK5 CGASAVE >> NUL
IF EXIST SAVEGAM4.CK5 COPY SAVEGAM4.CK5 CGASAVE >> NUL
IF EXIST SAVEGAM5.CK5 COPY SAVEGAM5.CK5 CGASAVE >> NUL
IF EXIST CONFIG.CK5 COPY CONFIG.CK5 CGASAVE >> NUL
DEL SAVEGAM?.CK? >> NUL
DEL CONFIG.CK? >> NUL
IF EXIST EGASAVE\SAVEGAM0.CK4 COPY EGASAVE\SAVEGAM0.CK4 . >> NUL
IF EXIST EGASAVE\SAVEGAM1.CK4 COPY EGASAVE\SAVEGAM1.CK4 . >> NUL
IF EXIST EGASAVE\SAVEGAM2.CK4 COPY EGASAVE\SAVEGAM2.CK4 . >> NUL
IF EXIST EGASAVE\SAVEGAM3.CK4 COPY EGASAVE\SAVEGAM3.CK4 . >> NUL
IF EXIST EGASAVE\SAVEGAM4.CK4 COPY EGASAVE\SAVEGAM4.CK4 . >> NUL
IF EXIST EGASAVE\SAVEGAM5.CK4 COPY EGASAVE\SAVEGAM5.CK4 . >> NUL
IF EXIST EGASAVE\SAVEGAM0.CK5 COPY EGASAVE\SAVEGAM0.CK5 . >> NUL
IF EXIST EGASAVE\SAVEGAM1.CK5 COPY EGASAVE\SAVEGAM1.CK5 . >> NUL
IF EXIST EGASAVE\SAVEGAM2.CK5 COPY EGASAVE\SAVEGAM2.CK5 . >> NUL
IF EXIST EGASAVE\SAVEGAM3.CK5 COPY EGASAVE\SAVEGAM3.CK5 . >> NUL
IF EXIST EGASAVE\SAVEGAM4.CK5 COPY EGASAVE\SAVEGAM4.CK5 . >> NUL
IF EXIST EGASAVE\SAVEGAM5.CK5 COPY EGASAVE\SAVEGAM5.CK5 . >> NUL
DEL CGACONF.CKG
@ECHO ÿ>>EGACONF.CKG
GOTO GAMESTART

:GAMESTART
IF %LAUNCHGAME% == KEEN4 GOTO KEEN4
GOTO KEEN5

:KEEN4
IF %LAUNCHMODE% == EGA GOTO KEEN4E
GOTO KEEN4C

:KEEN5
IF %LAUNCHMODE% == EGA GOTO KEEN5E
GOTO KEEN5C

:KEEN5E
IF EXIST KEEN5.EXE GOTO KEEN5S
IF EXIST KEEN5E.EXE GOTO KEEN5EN

:KEEN5EN
KEEN5E %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:KEEN5S
KEEN5 %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:KEEN4E
IF EXIST KEEN4.EXE GOTO KEEN4S
IF EXIST KEEN4E.EXE GOTO KEEN4EN
IF EXIST KEEN.EXE GOTO KEENDEMO

:KEEN4EN
KEEN4E %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:KEEN4S
KEEN4 %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:KEENDEMO
KEEN %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:KEEN5C
KEEN5C %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:KEEN4C
KEEN4C %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:HINTSHEET
IF EXIST GG-HINT.EXE GG-HINT %1 %2 %3 %4 %5 %6 %7 %8 %9
IF EXIST GGHINT.EXE GGHINT %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO START

:EXIT
SET LAUNCHGAME=
SET LAUNCHMODE=
SET CHOICES=
CLS
